 [
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"test-network-policy","namespace":"default"},

        "spec":{
            "podSelector":{"matchLabels":{"role":"db"}},
            "policyTypes":2,
            "ingress":{
                "from":{
                    "ipBlock":{
                        "cidr":"",
                        "except":""
                    },
                    "namespaceSelector":{"matchLabels":{"project":"myproject"}},
                    "podSelector":{"matchLabels":{"role":"frontend"}}
                },
                "port":{
                    "protocol":"TCP",
                    "port":"6379"
                }
            },
            "egress":{
                "to":{
                    "ipBlock":{
                        "cidr":"",
                        "except":""
                    }
                },
                "port":{
                    "protocol":"TCP",
                    "port":"5978"
                }
            }

        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"default-deny-ingress"},
        "spec":{
            "podSelector":"",
            "policyTypes":1
        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"allow-all-ingress"},
        "spec":{
            "podSelector":"",
            "ingress":"",
            "policyTypes":1
        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"default-deny-egress"},
        "spec":{
            "podSelector":"",
            "policyTypes":0
        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"allow-all-egress"},
        "spec":{
            "podSelector":"",
            "egress":"",
            "policyTypes":0
        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"default-deny-all"},
        "spec":{
            "podSelector":"",
            "policyTypes":2
        }
    },
    {
        "apiVersion":"networking.k8s.io/v1",
        "kind":"NetworkPolicy",
        "metadata":{"name":"test-network-policy","namespace":"default"},
        "spec":{
            "podSelector":{"matchLabels":{"role":"db"}},
            "policyTypes":2,
            "ingress":{
                "from":{
                    "ipBlock":{
                        "cidr":"",
                        "except":""
                    },
                    "namespaceSelector":{"matchLabels":{"project":"myproject"}},
                    "podSelector":{"matchLabels":{"role":"frontend"}}
                },
                "port":{
                    "protocol":"TCP",
                    "port":"6379"
                }
            },
            "egress":{
                "to":{
                    "ipBlock":{
                        "cidr":"",
                        "except":""
                    }
                },
                "port":{
                    "protocol":"TCP",
                    "port":"5978"
                }
            }

        }
    }
]